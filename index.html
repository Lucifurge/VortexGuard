<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>VortexGuard • Advanced Threat Defense</title>

<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{font-family:ui-monospace,Menlo,monospace;background:radial-gradient(circle at top,#111827,#020617);color:#e5e7eb}
.glass{background:rgba(15,23,42,.7);backdrop-filter:blur(12px);border:1px solid rgba(148,163,184,.15)}
.neon{box-shadow:0 0 20px rgba(56,189,248,.25)}
.glow-green{box-shadow:0 0 16px rgba(34,197,94,.6)}
.glow-red{box-shadow:0 0 16px rgba(239,68,68,.6)}
.map-container{height:calc(100vh - 10rem)}
.scrollbar::-webkit-scrollbar{width:6px}
.scrollbar::-webkit-scrollbar-thumb{background:#38bdf8;border-radius:6px}
.pulse{animation:pulse 1.4s infinite}
@keyframes pulse{0%{transform:scale(1);opacity:1}100%{transform:scale(2);opacity:0}}
</style>
</head>
<body class="flex h-screen overflow-hidden">

<aside class="w-72 glass p-6 flex flex-col justify-between">
<div>
<h1 class="text-3xl font-bold text-cyan-400 mb-8">VortexGuard</h1>
<nav class="space-y-3">
<a class="block px-4 py-3 rounded hover:bg-slate-800">Dashboard</a>
<a class="block px-4 py-3 rounded hover:bg-slate-800">Threat Map</a>
<a class="block px-4 py-3 rounded hover:bg-slate-800">Scan Website</a>
<a class="block px-4 py-3 rounded hover:bg-slate-800">Servers</a>
<a class="block px-4 py-3 rounded hover:bg-slate-800">Firewall</a>
<a class="block px-4 py-3 rounded hover:bg-slate-800">Logs</a>
</nav>
</div>
<footer class="text-xs text-slate-400">© 2025 VortexGuard</footer>
</aside>

<main class="flex-1 flex flex-col">
<header class="glass px-6 py-4 flex justify-between items-center">
<div>
<h2 class="text-2xl font-semibold">Global Website Availability Intelligence</h2>
<p class="text-slate-400 text-sm">Live status • Geo‑location • SOC visualization</p>
</div>
<div class="flex gap-4">
<div class="px-4 py-2 rounded glass glow-green">Tracked <b id="trackedCount">0</b></div>
<div class="px-4 py-2 rounded glass glow-red">Down <b id="alertCount">0</b></div>
</div>
</header>

<div class="glass px-6 py-4 flex gap-3">
<input id="domainInput" class="flex-1 bg-slate-900 p-3 rounded border border-slate-700" placeholder="Scan a domain (example.com)">
<button onclick="scanDomainInput()" class="px-6 py-3 bg-cyan-500 text-black font-semibold rounded neon">Scan</button>
</div>

<div class="flex flex-1 overflow-hidden">
<div class="flex-1 m-4 rounded-xl glass neon overflow-hidden">
<div id="world-map" class="map-container"></div>
</div>

<aside class="w-96 m-4 glass rounded-xl p-4 flex flex-col">
<h3 class="text-lg text-cyan-400 mb-2">Live Status Feed</h3>
<div id="log-box" class="flex-1 overflow-y-auto scrollbar text-sm space-y-1"></div>
<canvas id="attackChart" class="mt-4"></canvas>
</aside>
</div>
</main>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
const map = L.map('world-map',{zoomControl:false}).setView([20,0],2);
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png',{subdomains:'abcd'}).addTo(map);

const logBox = document.getElementById('log-box');
function log(m){ const p=document.createElement('p'); p.textContent = `[${new Date().toLocaleTimeString()}] ${m}`; logBox.prepend(p); }

let tracked = 0, down = 0;

const chart = new Chart(document.getElementById('attackChart'),{
    type: 'doughnut',
    data: { labels:['Online','Down'], datasets:[{data:[0,0], backgroundColor:['#22c55e','#ef4444']}] },
    options: { plugins:{legend:{labels:{color:'#e5e7eb'}}} }
});

// MOCK STATUS FUNCTION (works in browser reliably)
async function scanDomain(domain){
    tracked++; document.getElementById('trackedCount').textContent = tracked;

    // Random online/down (simulate real world)
    const online = Math.random() > 0.2; // 80% chance online
    log(`Scanning ${domain}...`);

    // Geo lookup
    const geo = await fetch(`https://ipapi.co/${domain}/json/`).then(r=>r.json()).catch(()=>null);
    if(!geo || !geo.latitude) return log(`Geo lookup failed for ${domain}`);

    const color = online ? '#22c55e' : '#ef4444';
    L.circleMarker([geo.latitude, geo.longitude], {radius:10,color,fillOpacity:.9}).addTo(map)
    .bindPopup(`<b>${domain}</b><br>Status: ${online?'ONLINE':'DOWN'}<br>Country: ${geo.country_name}<br>ISP: ${geo.org||'Unknown'}`);

    if(!online){
        down++; document.getElementById('alertCount').textContent = down;
        L.circle([geo.latitude, geo.longitude], {radius:600000, color:'#ef4444',className:'pulse'}).addTo(map);
        log(`⚠ ${domain} is DOWN`);
    } else log(`✅ ${domain} is ONLINE`);

    chart.data.datasets[0].data = [tracked-down, down]; chart.update();
    map.flyTo([geo.latitude, geo.longitude], 4);
}

function scanDomainInput(){
    const domain = document.getElementById('domainInput').value.trim();
    if(domain) scanDomain(domain);
}

// AUTO‑TRACK FAMOUS WEBSITES
const famous = ['google.com','youtube.com','facebook.com','github.com','cloudflare.com','amazon.com','wikipedia.org','openai.com'];
famous.forEach((d,i)=>setTimeout(()=>scanDomain(d), i*1000));
</script>
</body>
</html>
